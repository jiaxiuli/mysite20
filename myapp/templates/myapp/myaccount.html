{% extends 'myapp/base.html' %}

{% block myhdg %}
    <style>
    body{
        text-align: center;
        color: white;
    }
    </style>
    {% if error %}
        Welcome {{ username }}
        {% else %}
        Welcome {{ first_name }} {{ last_name }}
    {% endif %}

{% endblock %}

{% block body_block %}
    <div style="height: 520px; overflow: auto">
    {% if error %}
        <p>{{ error }}</p>
        {% else %}
        <p> First Name: {{ first_name }} </p>
        <p> Last Name: {{ last_name }} </p>
        <p style="color: coral"> Ordered Courses: </p>
        <table border="1" align="center">
            <tr style="color: royalblue;">
                <th>Order Date</th>
                <th>Name</th>
                <th>Price</th>
                <th>For Everyone</th>
                <th>Description</th>
            </tr>
            {% for order in orders %}
            <tr>
                <td> {{ order.order_date }}</td>
                <td> {{ order.course.name }}</td>
                <td> {{ order.course.price }} </td>
                {% if order.course.for_everyone %}
                    <td> Yes </td>
                {% else %}
                    <td> No </td>
                {% endif %}
                <td> {{ order.course.description }} </td>
            </tr>
            {% endfor %}
         </table>
        <p style="color: coral"> Interested Topic: </p>
        <table border="1" align="center">
            <tr style="color: royalblue;">
                <th>Name</th>
                <th>Category</th>
            </tr>
            {% for topic in interested_topics %}
            <tr>
                <td> {{ topic.name }}</td>
                <td> {{ topic.category }}</td>
            </tr>
            {% endfor %}
         </table>
    {% endif %}
    </div>
{% endblock %}